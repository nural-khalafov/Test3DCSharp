[gd_scene load_steps=22 format=3 uid="uid://c5odykbncdss6"]

[ext_resource type="Script" uid="uid://dm6uelu48xu0" path="res://scripts/controllers/FirstPersonController.cs" id="1_wwkbw"]
[ext_resource type="Script" uid="uid://cmfhroaomrqy7" path="res://scripts/interaction_system/Interaction.cs" id="2_2fcl3"]
[ext_resource type="PackedScene" uid="uid://db8d8mfop4pge" path="res://assets/nodes/player/CharacterModel.tscn" id="2_2wjqb"]
[ext_resource type="Script" uid="uid://cqhrwhm0pjgb" path="res://scripts/controllers/state machine/StateMachine.cs" id="2_lxhpi"]
[ext_resource type="Script" uid="uid://c1d0j15e0lsn" path="res://scripts/controllers/state machine/player_states/IdlePlayerState.cs" id="3_qmbba"]
[ext_resource type="Script" uid="uid://c2duora0r4v7m" path="res://scripts/controllers/state machine/player_states/WalkingPlayerState.cs" id="4_3cvba"]
[ext_resource type="Script" uid="uid://0pv5vq7k8qvo" path="res://scripts/controllers/state machine/player_states/SprintingPlayerState.cs" id="5_b840n"]
[ext_resource type="Script" uid="uid://fisn7eoytnpu" path="res://scripts/controllers/state machine/player_states/CrouchingPlayerState.cs" id="6_sgnxj"]
[ext_resource type="Script" uid="uid://ceqom0bpx81ql" path="res://scripts/controllers/state machine/player_states/JumpingPlayerState.cs" id="7_ab8v3"]
[ext_resource type="Script" uid="uid://b73v6vfamenc" path="res://scripts/controllers/state machine/player_states/FallingPlayerState.cs" id="8_glg3x"]
[ext_resource type="Script" uid="uid://b5x2m7kjjsdt6" path="res://scripts/weapon_system/WeaponManager.cs" id="11_8vqdi"]
[ext_resource type="Script" uid="uid://cgve1jrbk63kt" path="res://scripts/controllers/state machine/UpperbodyStateMachine.cs" id="11_k7xgv"]
[ext_resource type="Script" uid="uid://cjpll8rs4646p" path="res://scripts/controllers/state machine/upperbody_states/IdlePlayerUpperbodyState.cs" id="12_hsi4a"]
[ext_resource type="Script" uid="uid://camj7xqnudddn" path="res://scripts/controllers/state machine/upperbody_states/EquippingPlayerUpperbodyState.cs" id="13_k7xgv"]
[ext_resource type="Script" uid="uid://di1q4efetpnc5" path="res://scripts/controllers/state machine/upperbody_states/UnequippingPlayerUpperbodyState.cs" id="14_rrpkp"]
[ext_resource type="Script" uid="uid://7p64y43usny" path="res://scripts/controllers/state machine/upperbody_states/WalkingPlayerUpperbodyState.cs" id="15_kf27o"]
[ext_resource type="Script" uid="uid://c3bnl5tytxaff" path="res://scripts/controllers/state machine/upperbody_states/SprintingPlayerUpperbodyState.cs" id="16_5xy37"]
[ext_resource type="Script" uid="uid://cbapemh2xlgch" path="res://scripts/controllers/state machine/upperbody_states/ReloadingPlayerUpperbodyState.cs" id="17_kf27o"]
[ext_resource type="Script" uid="uid://d2q7suwk0jmrr" path="res://scripts/controllers/state machine/upperbody_states/InteractingPlayerUpperbodyState.cs" id="18_rrpkp"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wwkbw"]
radius = 0.4
height = 1.75

[sub_resource type="SphereShape3D" id="SphereShape3D_wwkbw"]
radius = 0.4

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CrouchShapeCast", "CollisionShape3D", "Camera", "HeadTarget")]
script = ExtResource("1_wwkbw")
CrouchShapeCast = NodePath("CrouchShapeCast3D")
CollisionShape3D = NodePath("CollisionShape3D")
Camera = NodePath("Head/Camera3D")
HeadTarget = NodePath("CharacterModel/HeadBoneAttachment/HeadTarget")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_wwkbw")

[node name="CrouchShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
shape = SubResource("SphereShape3D_wwkbw")
target_position = Vector3(0, 0.5, 0)

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, -0.097)

[node name="Camera3D" type="Camera3D" parent="Head"]
cull_mask = 1048573
near = 0.001

[node name="InteractionRaycast" type="RayCast3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -2, 0)
collision_mask = 65535
script = ExtResource("2_2fcl3")

[node name="CharacterModel" parent="." instance=ExtResource("2_2wjqb")]

[node name="AnimationTree" parent="CharacterModel" index="1"]
parameters/PlayerStateMachine/Crouched/CrouchingBlendSpace2D/blend_position = Vector2(0, 0)
parameters/PlayerStateMachine/Standing/SprintBlendSpace1D/blend_position = 0
parameters/UpperbodyStateMachine/ArmedState/ArmedStates/WeaponIdleBS1D/blend_position = 0

[node name="Skeleton3D" parent="CharacterModel/Armature" index="0"]
bones/0/rotation = Quaternion(-0.0364824, -0.367099, -0.0132881, 0.929371)
bones/1/rotation = Quaternion(-0.0130298, 0.0403165, -0.00528424, 0.999088)
bones/2/rotation = Quaternion(0.0954788, 0.0817994, -0.0071816, 0.992039)
bones/3/rotation = Quaternion(0.152327, 0.0812249, -0.0118703, 0.984915)
bones/4/rotation = Quaternion(-0.0118884, -0.0108118, 0.00156374, 0.99987)
bones/5/rotation = Quaternion(-0.037616, 0.176232, -0.0050653, 0.983617)
bones/8/rotation = Quaternion(-0.479198, -0.535134, 0.56699, -0.403142)
bones/9/rotation = Quaternion(0.533655, -0.0541577, 0.134107, 0.833244)
bones/10/rotation = Quaternion(-0.0073698, 0.0634369, 0.415149, 0.907509)
bones/11/rotation = Quaternion(-0.122677, 0.136795, 0.0124368, 0.982895)
bones/12/rotation = Quaternion(0.304856, -0.00559448, 0.147186, 0.94094)
bones/13/rotation = Quaternion(-0.00683175, 0.00067503, 0.000503905, 0.999976)
bones/14/rotation = Quaternion(8.79169e-07, -1.11759e-07, -4.09782e-07, 1)
bones/17/rotation = Quaternion(0.0418034, -0.00590244, 0.0616583, 0.997204)
bones/18/rotation = Quaternion(0.154781, -0.000983991, -0.00552036, 0.987933)
bones/19/rotation = Quaternion(4.65661e-09, -7.45058e-09, 9.31323e-10, 1)
bones/22/rotation = Quaternion(0.13358, 0.00367924, -0.074393, 0.988235)
bones/23/rotation = Quaternion(0.199414, -0.00129866, 0.0152214, 0.979796)
bones/24/rotation = Quaternion(-4.65661e-09, 9.31323e-09, 8.3819e-09, 1)
bones/27/rotation = Quaternion(0.273398, -0.0177757, -0.119477, 0.954287)
bones/28/rotation = Quaternion(0.284904, 0.00175769, 0.0246884, 0.958236)
bones/29/rotation = Quaternion(6.51926e-09, -3.81842e-08, 9.49949e-08, 1)
bones/32/rotation = Quaternion(0.299833, -0.0191337, -0.153025, 0.941444)
bones/33/rotation = Quaternion(0.345595, 0.011632, 0.0497026, 0.936994)
bones/34/rotation = Quaternion(2.38989e-13, -5.02914e-08, 3.539e-08, 1)
bones/37/rotation = Quaternion(0.528341, -0.49793, 0.535463, 0.43151)
bones/38/rotation = Quaternion(0.507817, 0.0307598, 0.0975052, 0.855376)
bones/39/rotation = Quaternion(0.0596415, 0.00587607, -0.363946, 0.92949)
bones/40/rotation = Quaternion(0.103254, -0.0509905, -0.092208, 0.989058)
bones/41/rotation = Quaternion(0.230684, 0.141588, -0.195784, 0.942553)
bones/42/rotation = Quaternion(-0.0440596, 0.00171407, 0.185285, 0.981695)
bones/43/rotation = Quaternion(8.53092e-07, 2.42144e-08, 3.06405e-07, 1)
bones/46/rotation = Quaternion(0.0372519, 0.00956727, 0.0104372, 0.999206)
bones/47/rotation = Quaternion(0.146422, 0.000221587, 0.00988472, 0.989173)
bones/48/rotation = Quaternion(1.86265e-09, 3.72529e-09, 6.51926e-09, 1)
bones/51/rotation = Quaternion(0.111673, 0.00862673, 0.0244406, 0.993407)
bones/52/rotation = Quaternion(0.273612, 0.00145571, -0.0177031, 0.961676)
bones/53/rotation = Quaternion(-5.09899e-08, 6.51926e-09, -4.09782e-08, 1)
bones/56/rotation = Quaternion(0.192375, -0.00807292, 0.0667689, 0.979014)
bones/57/rotation = Quaternion(0.325364, -0.00239821, -0.0342937, 0.944964)
bones/58/rotation = Quaternion(4.95929e-08, -4.65661e-09, -7.45059e-09, 1)
bones/61/rotation = Quaternion(0.207169, -0.0111395, 0.0920782, 0.973899)
bones/62/rotation = Quaternion(0.354187, -0.0124253, -0.0690409, 0.93254)
bones/63/rotation = Quaternion(1.35042e-08, 5.58794e-09, -3.72529e-09, 1)
bones/66/rotation = Quaternion(0.07905, 0.211013, 0.968638, -0.104711)
bones/67/rotation = Quaternion(-0.309839, 0.120671, -0.040624, 0.942225)
bones/68/rotation = Quaternion(0.578975, -0.0219393, -0.0291061, 0.81453)
bones/69/rotation = Quaternion(0.247665, -0.0174377, -0.0402294, 0.967853)
bones/72/rotation = Quaternion(-0.125246, 0.0113883, 0.983513, 0.129943)
bones/73/rotation = Quaternion(-0.295376, 0.0772668, -0.0175786, 0.952089)
bones/74/rotation = Quaternion(0.677548, 0.0711039, 0.0995725, 0.72523)
bones/75/rotation = Quaternion(0.242829, 0.0356798, 0.0126559, 0.96933)

[node name="HipsTarget" parent="CharacterModel/Armature" index="1"]
transform = Transform3D(0.745211, 0.119363, -0.65606, -0.158158, 0.987413, 0, 0.647802, 0.103761, 0.75471, 2.37169e-20, 1.25, 0)

[node name="HeadBoneAttachment" parent="CharacterModel" index="3"]
transform = Transform3D(-0.995683, 0.0927882, 0.00229596, 0.0882713, 0.954281, -0.285581, -0.0286896, -0.284146, -0.958352, 0.0212477, 1.49626, -0.106718)

[node name="RightHandAttachment" parent="CharacterModel" index="4"]
transform = Transform3D(0.196504, 0.225431, -0.954236, 0.31787, -0.935296, -0.155498, -0.927548, -0.272767, -0.255447, 0.300296, 0.88539, 0.225959)

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("2_lxhpi")
CurrentState = NodePath("IdlePlayerState")

[node name="IdlePlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("3_qmbba")

[node name="WalkingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_3cvba")

[node name="SprintingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("5_b840n")

[node name="CrouchingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_sgnxj")

[node name="JumpingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_ab8v3")

[node name="FallingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("8_glg3x")

[node name="PlayerUpperbodyStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("11_k7xgv")
CurrentState = NodePath("IdlePlayerUpperbodyState")

[node name="IdlePlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("12_hsi4a")

[node name="EquippingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("13_k7xgv")

[node name="UnequippingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("14_rrpkp")

[node name="WalkingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("15_kf27o")

[node name="SprintingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("16_5xy37")

[node name="ReloadingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("17_kf27o")

[node name="InteractingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("18_rrpkp")

[node name="WeaponManager" type="Node" parent="." node_paths=PackedStringArray("WeaponHolderSlot", "WeaponSlots")]
script = ExtResource("11_8vqdi")
WeaponHolderSlot = NodePath("../CharacterModel/RightHandAttachment/RightHandHolder")
WeaponSlots = {}

[editable path="CharacterModel"]
