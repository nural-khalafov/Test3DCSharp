[gd_scene load_steps=22 format=3 uid="uid://c5odykbncdss6"]

[ext_resource type="Script" uid="uid://dm6uelu48xu0" path="res://scripts/controllers/FirstPersonController.cs" id="1_wwkbw"]
[ext_resource type="Script" uid="uid://cmfhroaomrqy7" path="res://scripts/interaction_system/Interaction.cs" id="2_2fcl3"]
[ext_resource type="PackedScene" uid="uid://db8d8mfop4pge" path="res://assets/nodes/player/CharacterModel.tscn" id="2_2wjqb"]
[ext_resource type="Script" uid="uid://cqhrwhm0pjgb" path="res://scripts/controllers/state machine/StateMachine.cs" id="2_lxhpi"]
[ext_resource type="Script" uid="uid://c1d0j15e0lsn" path="res://scripts/controllers/state machine/player_states/IdlePlayerState.cs" id="3_qmbba"]
[ext_resource type="Script" uid="uid://c2duora0r4v7m" path="res://scripts/controllers/state machine/player_states/WalkingPlayerState.cs" id="4_3cvba"]
[ext_resource type="Script" uid="uid://0pv5vq7k8qvo" path="res://scripts/controllers/state machine/player_states/SprintingPlayerState.cs" id="5_b840n"]
[ext_resource type="Script" uid="uid://fisn7eoytnpu" path="res://scripts/controllers/state machine/player_states/CrouchingPlayerState.cs" id="6_sgnxj"]
[ext_resource type="Script" uid="uid://ceqom0bpx81ql" path="res://scripts/controllers/state machine/player_states/JumpingPlayerState.cs" id="7_ab8v3"]
[ext_resource type="Script" uid="uid://b73v6vfamenc" path="res://scripts/controllers/state machine/player_states/FallingPlayerState.cs" id="8_glg3x"]
[ext_resource type="Script" uid="uid://b5x2m7kjjsdt6" path="res://scripts/weapon_system/WeaponManager.cs" id="11_8vqdi"]
[ext_resource type="Script" uid="uid://cgve1jrbk63kt" path="res://scripts/controllers/state machine/UpperbodyStateMachine.cs" id="11_k7xgv"]
[ext_resource type="Script" uid="uid://cjpll8rs4646p" path="res://scripts/controllers/state machine/upperbody_states/IdlePlayerUpperbodyState.cs" id="12_hsi4a"]
[ext_resource type="Script" uid="uid://camj7xqnudddn" path="res://scripts/controllers/state machine/upperbody_states/EquippingPlayerUpperbodyState.cs" id="13_k7xgv"]
[ext_resource type="Script" uid="uid://di1q4efetpnc5" path="res://scripts/controllers/state machine/upperbody_states/UnequippingPlayerUpperbodyState.cs" id="14_rrpkp"]
[ext_resource type="Script" uid="uid://7p64y43usny" path="res://scripts/controllers/state machine/upperbody_states/WalkingPlayerUpperbodyState.cs" id="15_kf27o"]
[ext_resource type="Script" uid="uid://c3bnl5tytxaff" path="res://scripts/controllers/state machine/upperbody_states/SprintingPlayerUpperbodyState.cs" id="16_5xy37"]
[ext_resource type="Script" uid="uid://cbapemh2xlgch" path="res://scripts/controllers/state machine/upperbody_states/ReloadingPlayerUpperbodyState.cs" id="17_kf27o"]
[ext_resource type="Script" uid="uid://d2q7suwk0jmrr" path="res://scripts/controllers/state machine/upperbody_states/InteractingPlayerUpperbodyState.cs" id="18_rrpkp"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wwkbw"]
radius = 0.4
height = 1.75

[sub_resource type="SphereShape3D" id="SphereShape3D_wwkbw"]
radius = 0.4

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CrouchShapeCast", "CollisionShape3D", "Camera", "HeadTarget")]
script = ExtResource("1_wwkbw")
CrouchShapeCast = NodePath("CrouchShapeCast3D")
CollisionShape3D = NodePath("CollisionShape3D")
Camera = NodePath("Head/Camera3D")
HeadTarget = NodePath("CharacterModel/HeadBoneAttachment/HeadTarget")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_wwkbw")

[node name="CrouchShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
shape = SubResource("SphereShape3D_wwkbw")
target_position = Vector3(0, 0.5, 0)

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, -0.097)

[node name="Camera3D" type="Camera3D" parent="Head"]
cull_mask = 1048573
near = 0.001

[node name="InteractionRaycast" type="RayCast3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -2, 0)
collision_mask = 65535
script = ExtResource("2_2fcl3")

[node name="AimTarget" type="Node3D" parent="Head/Camera3D"]

[node name="CharacterModel" parent="." instance=ExtResource("2_2wjqb")]

[node name="AnimationTree" parent="CharacterModel" index="1"]
parameters/PlayerStateMachine/Crouched/CrouchingBlendSpace2D/blend_position = Vector2(0, 0)
parameters/PlayerStateMachine/Standing/SprintBlendSpace1D/blend_position = 0
parameters/UpperbodyStateMachine/ArmedState/ArmedStates/WeaponIdleBS1D/blend_position = 0

[node name="Skeleton3D" parent="CharacterModel/Armature" index="0"]
bones/1/rotation = Quaternion(-0.0124842, 0.0403671, -0.00545493, 0.999092)
bones/2/rotation = Quaternion(0.0964989, 0.0818568, -0.00746417, 0.991933)
bones/3/rotation = Quaternion(0.153416, 0.0812577, -0.0121666, 0.98474)
bones/4/rotation = Quaternion(-0.0155423, -0.0108775, 0.00212364, 0.999818)
bones/5/rotation = Quaternion(-0.0369951, 0.176371, -0.00582708, 0.983611)
bones/8/rotation = Quaternion(-0.482545, -0.532063, 0.567725, -0.402178)
bones/9/rotation = Quaternion(0.531738, -0.056145, 0.134248, 0.834314)
bones/10/rotation = Quaternion(-0.00856385, 0.0621407, 0.41276, 0.908677)
bones/11/rotation = Quaternion(-0.131096, 0.137714, 0.0128253, 0.981674)
bones/12/rotation = Quaternion(0.30573, -0.00498023, 0.147732, 0.940574)
bones/13/rotation = Quaternion(-0.0068997, 0.000663901, 0.00060933, 0.999976)
bones/17/rotation = Quaternion(0.0410484, -0.00604635, 0.0615802, 0.997239)
bones/18/rotation = Quaternion(0.153318, -0.000964449, -0.00570206, 0.98816)
bones/22/rotation = Quaternion(0.131953, 0.00421446, -0.0766613, 0.988278)
bones/23/rotation = Quaternion(0.197407, -0.00127855, 0.0150164, 0.980206)
bones/27/rotation = Quaternion(0.271893, -0.0168259, -0.121872, 0.954431)
bones/28/rotation = Quaternion(0.283044, 0.00175873, 0.0245797, 0.95879)
bones/32/rotation = Quaternion(0.298128, -0.018086, -0.155429, 0.941612)
bones/33/rotation = Quaternion(0.343609, 0.0115435, 0.0496856, 0.937727)
bones/37/rotation = Quaternion(0.53308, -0.493621, 0.53603, 0.429926)
bones/38/rotation = Quaternion(0.503078, 0.0345014, 0.0985466, 0.857911)
bones/39/rotation = Quaternion(0.0578313, 0.00912942, -0.36347, 0.929765)
bones/40/rotation = Quaternion(0.100349, -0.0531706, -0.0931424, 0.989155)
bones/41/rotation = Quaternion(0.229748, 0.142323, -0.193597, 0.943123)
bones/42/rotation = Quaternion(-0.042547, 0.00181364, 0.187181, 0.981402)
bones/46/rotation = Quaternion(0.0372674, 0.0095441, 0.0104523, 0.999205)
bones/47/rotation = Quaternion(0.14703, 0.00023658, 0.00984193, 0.989083)
bones/51/rotation = Quaternion(0.111568, 0.0086164, 0.0244557, 0.993419)
bones/52/rotation = Quaternion(0.265165, 0.00139827, -0.0169306, 0.964053)
bones/56/rotation = Quaternion(0.18823, -0.00845438, 0.0673395, 0.979777)
bones/57/rotation = Quaternion(0.321178, -0.0023652, -0.0338992, 0.946409)
bones/62/rotation = Quaternion(0.350082, -0.0122896, -0.0689135, 0.9341)
bones/66/rotation = Quaternion(0.078916, 0.212461, 0.968289, -0.10512)
bones/67/rotation = Quaternion(-0.310465, 0.120359, -0.0405444, 0.942062)
bones/68/rotation = Quaternion(0.578968, -0.0221446, -0.0294012, 0.814519)
bones/69/rotation = Quaternion(0.24762, -0.0173472, -0.0401814, 0.967868)
bones/72/rotation = Quaternion(-0.125022, 0.0145001, 0.983489, 0.130037)
bones/73/rotation = Quaternion(-0.298552, 0.0764514, -0.0177655, 0.95116)
bones/74/rotation = Quaternion(0.678524, 0.0708938, 0.0991918, 0.72439)

[node name="HipsTarget" parent="CharacterModel/Armature" index="1"]
transform = Transform3D(0.745211, 0.119363, -0.65606, -0.158158, 0.987413, 0, 0.647802, 0.103761, 0.75471, 2.37169e-20, 1.25, 0)

[node name="HeadBoneAttachment" parent="CharacterModel" index="3"]
transform = Transform3D(-0.995805, 0.0914752, 0.00198279, 0.0871141, 0.954511, -0.285167, -0.0279783, -0.283798, -0.958476, 0.021638, 1.49598, -0.107813)

[node name="RightHandAttachment" parent="CharacterModel" index="4"]
transform = Transform3D(0.193743, 0.23557, -0.95235, 0.315019, -0.934275, -0.167012, -0.9291, -0.267651, -0.255218, 0.301743, 0.884518, 0.226831)

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("2_lxhpi")
CurrentState = NodePath("IdlePlayerState")

[node name="IdlePlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("3_qmbba")

[node name="WalkingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_3cvba")

[node name="SprintingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("5_b840n")

[node name="CrouchingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_sgnxj")

[node name="JumpingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_ab8v3")

[node name="FallingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("8_glg3x")

[node name="PlayerUpperbodyStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("11_k7xgv")
CurrentState = NodePath("IdlePlayerUpperbodyState")

[node name="IdlePlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("12_hsi4a")

[node name="EquippingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("13_k7xgv")

[node name="UnequippingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("14_rrpkp")

[node name="WalkingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("15_kf27o")

[node name="SprintingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("16_5xy37")

[node name="ReloadingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("17_kf27o")

[node name="InteractingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("18_rrpkp")

[node name="WeaponManager" type="Node" parent="." node_paths=PackedStringArray("WeaponHolderSlot", "WeaponSlots")]
script = ExtResource("11_8vqdi")
WeaponHolderSlot = NodePath("../CharacterModel/RightHandAttachment/RightHandHolder")
WeaponSlots = {}

[editable path="CharacterModel"]
