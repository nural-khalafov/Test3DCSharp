[gd_scene load_steps=14 format=3 uid="uid://c5odykbncdss6"]

[ext_resource type="Script" uid="uid://dm6uelu48xu0" path="res://scripts/controllers/FirstPersonController.cs" id="1_wwkbw"]
[ext_resource type="Script" uid="uid://cmfhroaomrqy7" path="res://scripts/interaction_system/Interaction.cs" id="2_2fcl3"]
[ext_resource type="PackedScene" uid="uid://db8d8mfop4pge" path="res://assets/nodes/player/CharacterModel.tscn" id="2_2wjqb"]
[ext_resource type="Script" uid="uid://cqhrwhm0pjgb" path="res://scripts/controllers/state machine/StateMachine.cs" id="2_lxhpi"]
[ext_resource type="Script" uid="uid://c1d0j15e0lsn" path="res://scripts/controllers/state machine/states/IdlePlayerState.cs" id="3_qmbba"]
[ext_resource type="Script" uid="uid://c2duora0r4v7m" path="res://scripts/controllers/state machine/states/WalkingPlayerState.cs" id="4_3cvba"]
[ext_resource type="Script" uid="uid://0pv5vq7k8qvo" path="res://scripts/controllers/state machine/states/SprintingPlayerState.cs" id="5_b840n"]
[ext_resource type="Script" uid="uid://fisn7eoytnpu" path="res://scripts/controllers/state machine/states/CrouchingPlayerState.cs" id="6_sgnxj"]
[ext_resource type="Script" uid="uid://ceqom0bpx81ql" path="res://scripts/controllers/state machine/states/JumpingPlayerState.cs" id="7_ab8v3"]
[ext_resource type="Script" uid="uid://b73v6vfamenc" path="res://scripts/controllers/state machine/states/FallingPlayerState.cs" id="8_glg3x"]
[ext_resource type="Script" uid="uid://b5x2m7kjjsdt6" path="res://scripts/weapon_system/WeaponManager.cs" id="11_8vqdi"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wwkbw"]
radius = 0.4
height = 1.75

[sub_resource type="SphereShape3D" id="SphereShape3D_wwkbw"]
radius = 0.4

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CrouchShapeCast", "CollisionShape3D", "Camera", "HeadTarget", "AimNode")]
script = ExtResource("1_wwkbw")
CrouchShapeCast = NodePath("CrouchShapeCast3D")
CollisionShape3D = NodePath("CollisionShape3D")
Camera = NodePath("Head/Camera3D")
HeadTarget = NodePath("CharacterModel/HeadBoneAttachment/HeadTarget")
AimNode = NodePath("Head/Camera3D/AimTarget")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_wwkbw")

[node name="CrouchShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
shape = SubResource("SphereShape3D_wwkbw")
target_position = Vector3(0, 0.5, 0)

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8746, -0.0972898)

[node name="Camera3D" type="Camera3D" parent="Head"]
cull_mask = 1048573

[node name="InteractionRaycast" type="RayCast3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -2, 0)
collide_with_areas = true
script = ExtResource("2_2fcl3")

[node name="AimTarget" type="Node3D" parent="Head/Camera3D"]

[node name="CharacterModel" parent="." instance=ExtResource("2_2wjqb")]

[node name="AnimationTree" parent="CharacterModel" index="1"]
parameters/PlayerStateMachine/Crouched/CrouchingBlendSpace2D/blend_position = Vector2(0, 0)
parameters/PlayerStateMachine/Standing/SprintBlendSpace1D/blend_position = 0

[node name="Skeleton3D" parent="CharacterModel/Armature" index="0"]
bones/0/position = Vector3(0.00324228, 0.932362, -0.00216282)
bones/0/rotation = Quaternion(-0.0395537, -0.364961, -0.0149235, 0.930063)
bones/1/rotation = Quaternion(0.00894668, -0.000295433, -0.00119679, 0.999959)
bones/2/rotation = Quaternion(0.142293, 0.00063353, -0.00661739, 0.989802)
bones/3/rotation = Quaternion(0.199182, -0.000373709, -0.00653779, 0.979941)
bones/4/rotation = Quaternion(0.00650422, 0.0651599, 0.00765124, 0.997824)
bones/5/rotation = Quaternion(-0.0403413, 0.192169, 0.0900614, 0.976388)
bones/8/rotation = Quaternion(-0.292633, -0.334134, 0.668606, -0.596395)
bones/9/rotation = Quaternion(0.476647, -0.224955, 0.31448, 0.789497)
bones/10/rotation = Quaternion(9.27644e-08, 3.97562e-08, 0.537394, 0.843331)
bones/11/rotation = Quaternion(-0.133364, -0.827501, -0.246404, 0.48656)
bones/12/rotation = Quaternion(0.22668, -0.032501, 0.134617, 0.964074)
bones/13/rotation = Quaternion(0.0136485, 0.169389, -0.063153, 0.983429)
bones/14/rotation = Quaternion(-0.0116218, 0.0130986, 0.0923103, 0.995576)
bones/17/rotation = Quaternion(0.315127, -0.0125893, -0.0319683, 0.948427)
bones/18/rotation = Quaternion(0.499468, -3.49363e-07, -0.0511839, 0.864819)
bones/22/rotation = Quaternion(0.441772, -0.0180861, -0.044694, 0.895831)
bones/23/rotation = Quaternion(0.536301, -3.93018e-07, -0.0549584, 0.842236)
bones/24/rotation = Quaternion(0.154932, 3.12383e-09, -0.015877, 0.987798)
bones/27/rotation = Quaternion(0.506906, -0.0259545, -0.0427214, 0.860551)
bones/28/rotation = Quaternion(0.586003, -3.4788e-07, -0.0600518, 0.80808)
bones/29/rotation = Quaternion(2.78246e-07, 2.0324e-07, 2.0326e-07, 1)
bones/32/rotation = Quaternion(0.590858, -0.0695154, 0.00191517, 0.803773)
bones/33/rotation = Quaternion(-4.62339e-06, -3.80551e-07, -0.000368301, 1)
bones/34/rotation = Quaternion(0.12213, -3.87559e-09, -0.0125156, 0.992435)
bones/37/rotation = Quaternion(0.18738, -0.387325, 0.722007, 0.541825)
bones/39/rotation = Quaternion(-9.71598e-08, -6.27235e-08, -0.757252, 0.653122)
bones/40/rotation = Quaternion(-0.160357, 0.389016, 0.240639, 0.874669)
bones/41/rotation = Quaternion(0.349262, 0.0275558, -0.151117, 0.924349)
bones/42/rotation = Quaternion(-0.111954, -0.187868, 0.210885, 0.952733)
bones/43/rotation = Quaternion(-0.272215, -0.0182423, 0.40782, 0.871349)
bones/46/rotation = Quaternion(0.108243, 0.00639281, -0.015454, 0.993984)
bones/47/rotation = Quaternion(1.55177e-06, 8.9294e-08, 4.16146e-06, 1)
bones/48/rotation = Quaternion(-6.31355e-08, 1.29517e-08, 1.29505e-08, 1)
bones/51/rotation = Quaternion(0.432828, 0.000536447, 0.0693286, 0.898806)
bones/52/rotation = Quaternion(-2.29218e-07, 3.65704e-08, 3.65672e-08, 1)
bones/53/rotation = Quaternion(-5.6853e-07, -2.3511e-08, -2.35089e-08, 1)
bones/56/rotation = Quaternion(0.477496, 0.036507, 0.00597211, 0.877855)
bones/57/rotation = Quaternion(0.76165, 4.84923e-07, 0.0620458, 0.645012)
bones/58/rotation = Quaternion(0.424966, 3.41775e-07, 0.0346187, 0.904547)
bones/61/rotation = Quaternion(0.534611, 0.0448666, 0.00571378, 0.843887)
bones/63/rotation = Quaternion(0.497383, 3.21461e-07, 0.0405179, 0.866584)
bones/66/rotation = Quaternion(0.0796069, 0.207834, 0.969386, -0.103724)
bones/67/rotation = Quaternion(-0.309111, 0.120092, -0.0397654, 0.942575)
bones/68/rotation = Quaternion(0.578687, -0.0211027, -0.0276879, 0.814806)
bones/69/rotation = Quaternion(0.247855, -0.0178371, -0.040368, 0.967791)
bones/72/rotation = Quaternion(-0.125422, 0.00437821, 0.983797, 0.128041)
bones/73/rotation = Quaternion(-0.284398, 0.0773774, -0.0165403, 0.955436)
bones/74/rotation = Quaternion(0.674919, 0.0711977, 0.0995925, 0.727665)
bones/75/rotation = Quaternion(0.242785, 0.0356721, 0.012662, 0.969341)

[node name="HipsTarget" parent="CharacterModel/Armature" index="1"]
transform = Transform3D(0.745211, 0.119363, -0.65606, -0.158158, 0.987413, 0, 0.647802, 0.103761, 0.75471, 2.37169e-20, 1.25, 0)

[node name="HeadBoneAttachment" parent="CharacterModel" index="3"]
transform = Transform3D(-0.836785, 0.519797, 0.172054, 0.411184, 0.804073, -0.429412, -0.361551, -0.28858, -0.886568, 0.112468, 1.46043, -0.138055)

[node name="RightHandAttachment" parent="CharacterModel" index="4"]
transform = Transform3D(0.176059, 0.0258714, -0.98404, 0.984276, -0.0191087, 0.175599, -0.0142607, -0.999483, -0.0288288, 0.182239, 1.2657, -0.230212)

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("2_lxhpi")
CurrentState = NodePath("IdlePlayerState")

[node name="IdlePlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("3_qmbba")

[node name="WalkingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_3cvba")

[node name="SprintingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("5_b840n")

[node name="CrouchingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_sgnxj")

[node name="JumpingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_ab8v3")

[node name="FallingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("8_glg3x")

[node name="WeaponManager" type="Node" parent="." node_paths=PackedStringArray("WeaponHolderSlot")]
script = ExtResource("11_8vqdi")
WeaponHolderSlot = NodePath("../CharacterModel/RightHandAttachment/RightHandHolder")

[editable path="CharacterModel"]
