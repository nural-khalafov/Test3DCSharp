[gd_scene load_steps=22 format=3 uid="uid://c5odykbncdss6"]

[ext_resource type="Script" uid="uid://dm6uelu48xu0" path="res://scripts/controllers/FirstPersonController.cs" id="1_wwkbw"]
[ext_resource type="Script" uid="uid://cmfhroaomrqy7" path="res://scripts/interaction_system/Interaction.cs" id="2_2fcl3"]
[ext_resource type="PackedScene" uid="uid://db8d8mfop4pge" path="res://assets/nodes/player/CharacterModel.tscn" id="2_2wjqb"]
[ext_resource type="Script" uid="uid://cqhrwhm0pjgb" path="res://scripts/controllers/state machine/StateMachine.cs" id="2_lxhpi"]
[ext_resource type="Script" uid="uid://c1d0j15e0lsn" path="res://scripts/controllers/state machine/player_states/IdlePlayerState.cs" id="3_qmbba"]
[ext_resource type="Script" uid="uid://c2duora0r4v7m" path="res://scripts/controllers/state machine/player_states/WalkingPlayerState.cs" id="4_3cvba"]
[ext_resource type="Script" uid="uid://0pv5vq7k8qvo" path="res://scripts/controllers/state machine/player_states/SprintingPlayerState.cs" id="5_b840n"]
[ext_resource type="Script" uid="uid://fisn7eoytnpu" path="res://scripts/controllers/state machine/player_states/CrouchingPlayerState.cs" id="6_sgnxj"]
[ext_resource type="Script" uid="uid://ceqom0bpx81ql" path="res://scripts/controllers/state machine/player_states/JumpingPlayerState.cs" id="7_ab8v3"]
[ext_resource type="Script" uid="uid://b73v6vfamenc" path="res://scripts/controllers/state machine/player_states/FallingPlayerState.cs" id="8_glg3x"]
[ext_resource type="Script" uid="uid://b5x2m7kjjsdt6" path="res://scripts/weapon_system/WeaponManager.cs" id="11_8vqdi"]
[ext_resource type="Script" uid="uid://cgve1jrbk63kt" path="res://scripts/controllers/state machine/UpperbodyStateMachine.cs" id="11_k7xgv"]
[ext_resource type="Script" uid="uid://cjpll8rs4646p" path="res://scripts/controllers/state machine/upperbody_states/IdlePlayerUpperbodyState.cs" id="12_hsi4a"]
[ext_resource type="Script" uid="uid://camj7xqnudddn" path="res://scripts/controllers/state machine/upperbody_states/EquippingPlayerUpperbodyState.cs" id="13_k7xgv"]
[ext_resource type="Script" uid="uid://di1q4efetpnc5" path="res://scripts/controllers/state machine/upperbody_states/UnequippingPlayerUpperbodyState.cs" id="14_rrpkp"]
[ext_resource type="Script" uid="uid://7p64y43usny" path="res://scripts/controllers/state machine/upperbody_states/WalkingPlayerUpperbodyState.cs" id="15_kf27o"]
[ext_resource type="Script" uid="uid://c3bnl5tytxaff" path="res://scripts/controllers/state machine/upperbody_states/SprintingPlayerUpperbodyState.cs" id="16_5xy37"]
[ext_resource type="Script" uid="uid://cbapemh2xlgch" path="res://scripts/controllers/state machine/upperbody_states/ReloadingPlayerUpperbodyState.cs" id="17_kf27o"]
[ext_resource type="Script" uid="uid://d2q7suwk0jmrr" path="res://scripts/controllers/state machine/upperbody_states/InteractingPlayerUpperbodyState.cs" id="18_rrpkp"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wwkbw"]
radius = 0.4
height = 1.75

[sub_resource type="SphereShape3D" id="SphereShape3D_wwkbw"]
radius = 0.4

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CrouchShapeCast", "CollisionShape3D", "Camera", "HeadTarget", "AimNode")]
script = ExtResource("1_wwkbw")
CrouchShapeCast = NodePath("CrouchShapeCast3D")
CollisionShape3D = NodePath("CollisionShape3D")
Camera = NodePath("Head/Camera3D")
HeadTarget = NodePath("CharacterModel/HeadBoneAttachment/HeadTarget")
AimNode = NodePath("Head/Camera3D/AimTarget")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_wwkbw")

[node name="CrouchShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
shape = SubResource("SphereShape3D_wwkbw")
target_position = Vector3(0, 0.5, 0)

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, -0.097)

[node name="Camera3D" type="Camera3D" parent="Head"]
cull_mask = 1048573
near = 0.001

[node name="InteractionRaycast" type="RayCast3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -2, 0)
collision_mask = 65535
script = ExtResource("2_2fcl3")

[node name="AimTarget" type="Node3D" parent="Head/Camera3D"]

[node name="CharacterModel" parent="." instance=ExtResource("2_2wjqb")]

[node name="AnimationTree" parent="CharacterModel" index="1"]
parameters/PlayerStateMachine/Crouched/CrouchingBlendSpace2D/blend_position = Vector2(0, 0)
parameters/PlayerStateMachine/Standing/SprintBlendSpace1D/blend_position = 0
parameters/UpperbodyStateMachine/ArmedState/ArmedStates/WeaponIdleBS1D/blend_position = 0

[node name="Skeleton3D" parent="CharacterModel/Armature" index="0"]
bones/0/position = Vector3(0.00228297, 0.92868, -0.0102512)
bones/0/rotation = Quaternion(-0.0366563, -0.36709, -0.0133345, 0.929367)
bones/1/rotation = Quaternion(-0.0103139, 0.0407046, -0.00601295, 0.9991)
bones/2/rotation = Quaternion(0.100768, 0.0826539, -0.00849089, 0.991434)
bones/3/rotation = Quaternion(0.157613, 0.0820267, -0.0132491, 0.983999)
bones/4/rotation = Quaternion(-0.0343907, -0.011035, 0.00211153, 0.999345)
bones/5/rotation = Quaternion(-0.0550854, 0.176915, -0.0128645, 0.982599)
bones/8/rotation = Quaternion(-0.498125, -0.517309, 0.571067, -0.397675)
bones/9/rotation = Quaternion(0.523122, -0.0632131, 0.134052, 0.839272)
bones/10/rotation = Quaternion(-0.0125013, 0.0579484, 0.405425, 0.912204)
bones/11/rotation = Quaternion(-0.160811, 0.139951, 0.0151389, 0.976895)
bones/12/rotation = Quaternion(0.306862, -0.0075279, 0.155968, 0.938857)
bones/13/rotation = Quaternion(-0.00733286, 0.000603522, 0.00119614, 0.999972)
bones/17/rotation = Quaternion(0.032624, -0.00575014, 0.0610751, 0.997583)
bones/18/rotation = Quaternion(0.142962, -0.000772336, -0.00694108, 0.989704)
bones/22/rotation = Quaternion(0.124722, 0.00602755, -0.0855279, 0.98848)
bones/23/rotation = Quaternion(0.190017, -0.00139397, 0.0142628, 0.981676)
bones/27/rotation = Quaternion(0.265011, -0.0134062, -0.13068, 0.955255)
bones/28/rotation = Quaternion(0.275844, 0.00175909, 0.0240946, 0.960899)
bones/32/rotation = Quaternion(0.291125, -0.0141572, -0.163853, 0.942442)
bones/33/rotation = Quaternion(0.336423, 0.0112867, 0.0495819, 0.940337)
bones/37/rotation = Quaternion(0.550311, -0.477235, 0.537986, 0.424236)
bones/38/rotation = Quaternion(0.489702, 0.0493344, 0.0988219, 0.864865)
bones/39/rotation = Quaternion(0.0449007, 0.0285285, -0.359656, 0.931567)
bones/40/rotation = Quaternion(0.107189, -0.064613, -0.102105, 0.986869)
bones/41/rotation = Quaternion(0.230976, 0.143112, -0.200344, 0.941293)
bones/42/rotation = Quaternion(-0.0410385, 0.00166276, 0.178317, 0.983116)
bones/46/rotation = Quaternion(0.0399401, 0.00984867, 0.0101081, 0.999102)
bones/47/rotation = Quaternion(0.147456, 0.000253998, 0.00979, 0.98902)
bones/51/rotation = Quaternion(0.110933, 0.00861737, 0.0246319, 0.993485)
bones/52/rotation = Quaternion(0.264374, 0.00144571, -0.016895, 0.964271)
bones/56/rotation = Quaternion(0.187571, -0.00855237, 0.0673838, 0.9799)
bones/57/rotation = Quaternion(0.320988, -0.0024259, -0.033861, 0.946475)
bones/62/rotation = Quaternion(0.350431, -0.012252, -0.0687996, 0.933978)
bones/66/rotation = Quaternion(0.0784979, 0.218504, 0.966755, -0.107143)
bones/67/rotation = Quaternion(-0.31425, 0.119226, -0.040752, 0.940942)
bones/68/rotation = Quaternion(0.578918, -0.0231134, -0.0311143, 0.814464)
bones/69/rotation = Quaternion(0.247883, -0.0182597, -0.0401843, 0.967784)
bones/72/rotation = Quaternion(-0.124559, 0.024701, 0.983563, 0.128368)
bones/73/rotation = Quaternion(-0.310135, 0.0751055, -0.0185495, 0.94754)
bones/74/rotation = Quaternion(0.682743, 0.0702674, 0.0978296, 0.720662)

[node name="HipsTarget" parent="CharacterModel/Armature" index="1"]
transform = Transform3D(0.745211, 0.119363, -0.65606, -0.158158, 0.987413, 0, 0.647802, 0.103761, 0.75471, 2.37169e-20, 1.25, 0)

[node name="HeadBoneAttachment" parent="CharacterModel" index="3"]
transform = Transform3D(-0.997945, 0.0640695, 0.000493219, 0.062097, 0.969062, -0.238879, -0.0157828, -0.238358, -0.971049, 0.0223159, 1.49545, -0.111638)

[node name="RightHandAttachment" parent="CharacterModel" index="4"]
transform = Transform3D(0.183315, 0.25079, -0.950526, 0.320723, -0.929262, -0.183326, -0.929264, -0.271249, -0.250782, 0.307715, 0.879835, 0.227041)

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("2_lxhpi")
CurrentState = NodePath("IdlePlayerState")

[node name="IdlePlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("3_qmbba")

[node name="WalkingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_3cvba")

[node name="SprintingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("5_b840n")

[node name="CrouchingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_sgnxj")

[node name="JumpingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_ab8v3")

[node name="FallingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("8_glg3x")

[node name="PlayerUpperbodyStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("11_k7xgv")
CurrentState = NodePath("IdlePlayerUpperbodyState")

[node name="IdlePlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("12_hsi4a")

[node name="EquippingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("13_k7xgv")

[node name="UnequippingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("14_rrpkp")

[node name="WalkingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("15_kf27o")

[node name="SprintingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("16_5xy37")

[node name="ReloadingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("17_kf27o")

[node name="InteractingPlayerUpperbodyState" type="Node" parent="PlayerUpperbodyStateMachine"]
script = ExtResource("18_rrpkp")

[node name="WeaponManager" type="Node" parent="." node_paths=PackedStringArray("WeaponHolderSlot", "WeaponSlots")]
script = ExtResource("11_8vqdi")
WeaponHolderSlot = NodePath("../CharacterModel/RightHandAttachment/RightHandHolder")
WeaponSlots = {}

[editable path="CharacterModel"]
