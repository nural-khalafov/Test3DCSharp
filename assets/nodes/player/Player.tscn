[gd_scene load_steps=14 format=3 uid="uid://c5odykbncdss6"]

[ext_resource type="Script" uid="uid://dm6uelu48xu0" path="res://scripts/controllers/FirstPersonController.cs" id="1_wwkbw"]
[ext_resource type="Script" uid="uid://cmfhroaomrqy7" path="res://scripts/interaction_system/Interaction.cs" id="2_2fcl3"]
[ext_resource type="PackedScene" uid="uid://db8d8mfop4pge" path="res://assets/nodes/player/CharacterModel.tscn" id="2_2wjqb"]
[ext_resource type="Script" uid="uid://cqhrwhm0pjgb" path="res://scripts/controllers/state machine/StateMachine.cs" id="2_lxhpi"]
[ext_resource type="Script" uid="uid://c1d0j15e0lsn" path="res://scripts/controllers/state machine/states/IdlePlayerState.cs" id="3_qmbba"]
[ext_resource type="Script" uid="uid://c2duora0r4v7m" path="res://scripts/controllers/state machine/states/WalkingPlayerState.cs" id="4_3cvba"]
[ext_resource type="Script" uid="uid://0pv5vq7k8qvo" path="res://scripts/controllers/state machine/states/SprintingPlayerState.cs" id="5_b840n"]
[ext_resource type="Script" uid="uid://fisn7eoytnpu" path="res://scripts/controllers/state machine/states/CrouchingPlayerState.cs" id="6_sgnxj"]
[ext_resource type="Script" uid="uid://ceqom0bpx81ql" path="res://scripts/controllers/state machine/states/JumpingPlayerState.cs" id="7_ab8v3"]
[ext_resource type="Script" uid="uid://b73v6vfamenc" path="res://scripts/controllers/state machine/states/FallingPlayerState.cs" id="8_glg3x"]
[ext_resource type="Script" uid="uid://b5x2m7kjjsdt6" path="res://scripts/weapon_system/WeaponManager.cs" id="11_8vqdi"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wwkbw"]
radius = 0.4
height = 1.75

[sub_resource type="SphereShape3D" id="SphereShape3D_wwkbw"]
radius = 0.4

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CrouchShapeCast", "CollisionShape3D", "Camera", "HeadTarget", "AimNode")]
script = ExtResource("1_wwkbw")
CrouchShapeCast = NodePath("CrouchShapeCast3D")
CollisionShape3D = NodePath("CollisionShape3D")
Camera = NodePath("Head/Camera3D")
HeadTarget = NodePath("CharacterModel/HeadBoneAttachment/HeadTarget")
AimNode = NodePath("Head/Camera3D/AimTarget")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_wwkbw")

[node name="CrouchShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
shape = SubResource("SphereShape3D_wwkbw")
target_position = Vector3(0, 0.5, 0)

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8746, -0.0972898)

[node name="Camera3D" type="Camera3D" parent="Head"]
cull_mask = 1048573
near = 0.001

[node name="InteractionRaycast" type="RayCast3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -2, 0)
collision_mask = 65535
script = ExtResource("2_2fcl3")

[node name="AimTarget" type="Node3D" parent="Head/Camera3D"]

[node name="CharacterModel" parent="." instance=ExtResource("2_2wjqb")]

[node name="AnimationTree" parent="CharacterModel" index="1"]
parameters/PlayerStateMachine/Crouched/CrouchingBlendSpace2D/blend_position = Vector2(0, 0)
parameters/PlayerStateMachine/Standing/SprintBlendSpace1D/blend_position = 0
parameters/UpperbodyStateMachine/ArmedState/ArmedStates/WeaponIdleBS1D/blend_position = 0

[node name="Skeleton3D" parent="CharacterModel/Armature" index="0"]
bones/0/position = Vector3(0.00295935, 0.930265, -0.00809813)
bones/0/rotation = Quaternion(-0.0385916, -0.365853, -0.0142365, 0.929763)
bones/1/rotation = Quaternion(-0.0117523, 0.0403222, -0.00562619, 0.999102)
bones/2/rotation = Quaternion(0.0978724, 0.0819394, -0.00784517, 0.991789)
bones/3/rotation = Quaternion(0.154811, 0.0812775, -0.0125365, 0.984515)
bones/4/rotation = Quaternion(-0.0211386, -0.0109101, 0.00159335, 0.999716)
bones/5/rotation = Quaternion(-0.0385657, 0.175872, -0.00563926, 0.983641)
bones/8/rotation = Quaternion(-0.487787, -0.527209, 0.568727, -0.40083)
bones/9/rotation = Quaternion(0.528354, -0.0590312, 0.133852, 0.836326)
bones/10/rotation = Quaternion(-0.0101486, 0.0600166, 0.409973, 0.910064)
bones/11/rotation = Quaternion(-0.142582, 0.138246, 0.013706, 0.979985)
bones/12/rotation = Quaternion(0.306408, -0.00555069, 0.149619, 0.940052)
bones/13/rotation = Quaternion(-0.00698898, 0.000649278, 0.00074785, 0.999975)
bones/17/rotation = Quaternion(0.0366177, -0.00568042, 0.0613396, 0.997429)
bones/18/rotation = Quaternion(0.150534, -0.000907231, -0.00604386, 0.988586)
bones/22/rotation = Quaternion(0.129778, 0.00490718, -0.0796623, 0.988326)
bones/23/rotation = Quaternion(0.194851, -0.00128673, 0.014735, 0.980721)
bones/27/rotation = Quaternion(0.270065, -0.0155122, -0.124694, 0.954607)
bones/28/rotation = Quaternion(0.280553, 0.00175999, 0.0244326, 0.959526)
bones/32/rotation = Quaternion(0.295996, -0.016687, -0.158234, 0.941844)
bones/33/rotation = Quaternion(0.34109, 0.0114302, 0.0496628, 0.938648)
bones/37/rotation = Quaternion(0.538955, -0.488198, 0.536781, 0.427852)
bones/38/rotation = Quaternion(0.498985, 0.0394384, 0.099007, 0.860033)
bones/39/rotation = Quaternion(0.0544617, 0.0145665, -0.363169, 0.930016)
bones/40/rotation = Quaternion(0.0982757, -0.0556075, -0.0948768, 0.989064)
bones/41/rotation = Quaternion(0.230103, 0.141954, -0.193679, 0.943075)
bones/42/rotation = Quaternion(-0.0422762, 0.00180334, 0.187225, 0.981405)
bones/46/rotation = Quaternion(0.0369866, 0.00958663, 0.0102733, 0.999217)
bones/47/rotation = Quaternion(0.146683, 0.00022978, 0.00986594, 0.989134)
bones/51/rotation = Quaternion(0.111429, 0.00860284, 0.0244755, 0.993434)
bones/52/rotation = Quaternion(0.261174, 0.00139272, -0.0165691, 0.965149)
bones/56/rotation = Quaternion(0.186452, -0.00861727, 0.0675651, 0.9801)
bones/57/rotation = Quaternion(0.320268, -0.00236537, -0.0338046, 0.946721)
bones/62/rotation = Quaternion(0.348571, -0.0122676, -0.0688472, 0.93467)
bones/66/rotation = Quaternion(0.0788753, 0.214112, 0.96787, -0.105657)
bones/67/rotation = Quaternion(-0.311204, 0.120007, -0.0403946, 0.94187)
bones/68/rotation = Quaternion(0.578956, -0.022485, -0.0299532, 0.814498)
bones/69/rotation = Quaternion(0.24756, -0.0172282, -0.0401183, 0.967888)
bones/72/rotation = Quaternion(-0.12486, 0.01752, 0.983505, 0.129694)
bones/73/rotation = Quaternion(-0.301782, 0.0765368, -0.0179113, 0.950131)
bones/74/rotation = Quaternion(0.67988, 0.0705711, 0.0985328, 0.723239)

[node name="HipsTarget" parent="CharacterModel/Armature" index="1"]
transform = Transform3D(0.745211, 0.119363, -0.65606, -0.158158, 0.987413, 0, 0.647802, 0.103761, 0.75471, 2.37169e-20, 1.25, 0)

[node name="HeadBoneAttachment" parent="CharacterModel" index="3"]
transform = Transform3D(-0.99642, 0.0845193, 0.00186111, 0.080722, 0.957732, -0.276102, -0.0251184, -0.274963, -0.961126, 0.0190479, 1.4978, -0.109726)

[node name="RightHandAttachment" parent="CharacterModel" index="4"]
transform = Transform3D(0.190335, 0.248819, -0.949664, 0.319473, -0.930393, -0.179739, -0.928283, -0.269182, -0.256577, 0.302641, 0.884727, 0.223638)

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("2_lxhpi")
CurrentState = NodePath("IdlePlayerState")

[node name="IdlePlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("3_qmbba")

[node name="WalkingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_3cvba")

[node name="SprintingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("5_b840n")

[node name="CrouchingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_sgnxj")

[node name="JumpingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_ab8v3")

[node name="FallingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("8_glg3x")

[node name="WeaponManager" type="Node" parent="." node_paths=PackedStringArray("WeaponHolderSlot", "WeaponSlots")]
script = ExtResource("11_8vqdi")
WeaponHolderSlot = NodePath("../CharacterModel/RightHandAttachment/RightHandHolder")
WeaponSlots = {}

[editable path="CharacterModel"]
