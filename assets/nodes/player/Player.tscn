[gd_scene load_steps=14 format=3 uid="uid://c5odykbncdss6"]

[ext_resource type="Script" uid="uid://dm6uelu48xu0" path="res://scripts/controllers/FirstPersonController.cs" id="1_wwkbw"]
[ext_resource type="Script" uid="uid://cmfhroaomrqy7" path="res://scripts/interaction_system/Interaction.cs" id="2_2fcl3"]
[ext_resource type="PackedScene" uid="uid://db8d8mfop4pge" path="res://assets/nodes/player/CharacterModel.tscn" id="2_2wjqb"]
[ext_resource type="Script" uid="uid://cqhrwhm0pjgb" path="res://scripts/controllers/state machine/StateMachine.cs" id="2_lxhpi"]
[ext_resource type="Script" uid="uid://c1d0j15e0lsn" path="res://scripts/controllers/state machine/states/IdlePlayerState.cs" id="3_qmbba"]
[ext_resource type="Script" uid="uid://c2duora0r4v7m" path="res://scripts/controllers/state machine/states/WalkingPlayerState.cs" id="4_3cvba"]
[ext_resource type="Script" uid="uid://0pv5vq7k8qvo" path="res://scripts/controllers/state machine/states/SprintingPlayerState.cs" id="5_b840n"]
[ext_resource type="Script" uid="uid://fisn7eoytnpu" path="res://scripts/controllers/state machine/states/CrouchingPlayerState.cs" id="6_sgnxj"]
[ext_resource type="Script" uid="uid://ceqom0bpx81ql" path="res://scripts/controllers/state machine/states/JumpingPlayerState.cs" id="7_ab8v3"]
[ext_resource type="Script" uid="uid://b73v6vfamenc" path="res://scripts/controllers/state machine/states/FallingPlayerState.cs" id="8_glg3x"]
[ext_resource type="Script" uid="uid://b5x2m7kjjsdt6" path="res://scripts/weapon_system/WeaponManager.cs" id="11_8vqdi"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wwkbw"]
radius = 0.4
height = 1.75

[sub_resource type="SphereShape3D" id="SphereShape3D_wwkbw"]
radius = 0.4

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CrouchShapeCast", "CollisionShape3D", "Camera", "HeadTarget", "AimNode")]
script = ExtResource("1_wwkbw")
CrouchShapeCast = NodePath("CrouchShapeCast3D")
CollisionShape3D = NodePath("CollisionShape3D")
Camera = NodePath("Head/Camera3D")
HeadTarget = NodePath("CharacterModel/HeadBoneAttachment/HeadTarget")
AimNode = NodePath("Head/Camera3D/AimTarget")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_wwkbw")

[node name="CrouchShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
shape = SubResource("SphereShape3D_wwkbw")
target_position = Vector3(0, 0.5, 0)

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8746, -0.0972898)

[node name="Camera3D" type="Camera3D" parent="Head"]
cull_mask = 1048573
near = 0.01

[node name="InteractionRaycast" type="RayCast3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -2, 0)
collision_mask = 65535
script = ExtResource("2_2fcl3")

[node name="AimTarget" type="Node3D" parent="Head/Camera3D"]

[node name="CharacterModel" parent="." instance=ExtResource("2_2wjqb")]

[node name="AnimationTree" parent="CharacterModel" index="1"]
parameters/PlayerStateMachine/Crouched/CrouchingBlendSpace2D/blend_position = Vector2(0, 0)
parameters/PlayerStateMachine/Standing/SprintBlendSpace1D/blend_position = 0
parameters/UpperbodyStateMachine/ArmedState/ArmedStates/WeaponIdleBS1D/blend_position = 0

[node name="Skeleton3D" parent="CharacterModel/Armature" index="0"]
bones/0/position = Vector3(0.00321707, 0.932144, -0.00221677)
bones/0/rotation = Quaternion(-0.0398319, -0.365875, -0.0150014, 0.92969)
bones/1/rotation = Quaternion(-0.0143129, 0.0402522, -0.00497044, 0.999075)
bones/2/rotation = Quaternion(0.0926701, 0.0818611, -0.006631, 0.992304)
bones/3/rotation = Quaternion(0.149347, 0.0813486, -0.0112955, 0.985368)
bones/4/rotation = Quaternion(-0.0125552, -0.0106172, 0.00155952, 0.999864)
bones/5/rotation = Quaternion(-0.0641413, 0.177585, -0.0014505, 0.982012)
bones/8/rotation = Quaternion(-0.470072, -0.543299, 0.564741, -0.406111)
bones/9/rotation = Quaternion(0.538431, -0.0503848, 0.134093, 0.830405)
bones/10/rotation = Quaternion(-0.00526846, 0.0657817, 0.420073, 0.905088)
bones/11/rotation = Quaternion(-0.09955, 0.135709, 0.0108277, 0.985675)
bones/12/rotation = Quaternion(0.303581, -0.00425231, 0.143189, 0.941975)
bones/13/rotation = Quaternion(-0.00715523, 0.000506915, 0.000480311, 0.999974)
bones/17/rotation = Quaternion(0.0508253, -0.00573242, 0.0624998, 0.996734)
bones/18/rotation = Quaternion(0.162149, -0.00121591, -0.00462744, 0.986755)
bones/22/rotation = Quaternion(0.137844, 0.00260364, -0.0689757, 0.988046)
bones/23/rotation = Quaternion(0.247812, -0.0017311, 0.0205974, 0.968588)
bones/27/rotation = Quaternion(0.276801, -0.0195593, -0.115044, 0.953815)
bones/28/rotation = Quaternion(0.288171, 0.00175555, 0.0248979, 0.957254)
bones/32/rotation = Quaternion(0.303749, -0.0213423, -0.14833, 0.940893)
bones/33/rotation = Quaternion(0.349074, 0.0117449, 0.0496714, 0.935704)
bones/37/rotation = Quaternion(0.520273, -0.504854, 0.534874, 0.433991)
bones/38/rotation = Quaternion(0.515689, 0.0224665, 0.0971162, 0.850957)
bones/39/rotation = Quaternion(0.0644272, -0.00269859, -0.364852, 0.92883)
bones/40/rotation = Quaternion(0.115038, -0.0461543, -0.0911176, 0.988096)
bones/41/rotation = Quaternion(0.232378, 0.142142, -0.20233, 0.940669)
bones/42/rotation = Quaternion(-0.0429979, 0.0014213, 0.176403, 0.983377)
bones/46/rotation = Quaternion(0.0373076, 0.00969376, 0.0102512, 0.999204)
bones/47/rotation = Quaternion(0.146906, 0.000230895, 0.00987223, 0.989101)
bones/51/rotation = Quaternion(0.111505, 0.00859619, 0.0248852, 0.993415)
bones/52/rotation = Quaternion(0.311455, 0.00169776, -0.021169, 0.950024)
bones/56/rotation = Quaternion(0.211699, -0.00643301, 0.0652057, 0.975136)
bones/57/rotation = Quaternion(0.344139, -0.0025127, -0.0358939, 0.938229)
bones/62/rotation = Quaternion(0.371851, -0.0132253, -0.0701606, 0.925543)
bones/66/rotation = Quaternion(0.0797267, 0.208369, 0.969238, -0.103946)
bones/67/rotation = Quaternion(-0.308658, 0.120375, -0.0402148, 0.942668)
bones/68/rotation = Quaternion(0.579003, -0.0211114, -0.0278145, 0.814578)
bones/69/rotation = Quaternion(0.247865, -0.0178347, -0.0404398, 0.967786)
bones/72/rotation = Quaternion(-0.125681, 0.00393295, 0.983739, 0.128246)
bones/73/rotation = Quaternion(-0.284149, 0.0774746, -0.0166439, 0.9555)
bones/74/rotation = Quaternion(0.67519, 0.0714367, 0.0999375, 0.727343)

[node name="HipsTarget" parent="CharacterModel/Armature" index="1"]
transform = Transform3D(0.745211, 0.119363, -0.65606, -0.158158, 0.987413, 0, 0.647802, 0.103761, 0.75471, 2.37169e-20, 1.25, 0)

[node name="HeadBoneAttachment" parent="CharacterModel" index="3"]
transform = Transform3D(-0.996854, 0.0791679, 0.00385477, 0.0765028, 0.973738, -0.214434, -0.0207298, -0.213465, -0.976731, 0.0150256, 1.50252, -0.107741)

[node name="RightHandAttachment" parent="CharacterModel" index="4"]
transform = Transform3D(0.196889, 0.193865, -0.961068, 0.330822, -0.935902, -0.121014, -0.922925, -0.294116, -0.248403, 0.295638, 0.890478, 0.214921)

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("2_lxhpi")
CurrentState = NodePath("IdlePlayerState")

[node name="IdlePlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("3_qmbba")

[node name="WalkingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_3cvba")

[node name="SprintingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("5_b840n")

[node name="CrouchingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_sgnxj")

[node name="JumpingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_ab8v3")

[node name="FallingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("8_glg3x")

[node name="WeaponManager" type="Node" parent="." node_paths=PackedStringArray("WeaponHolderSlot", "WeaponSlots")]
script = ExtResource("11_8vqdi")
WeaponHolderSlot = NodePath("../CharacterModel/RightHandAttachment/RightHandHolder")
WeaponSlots = {}

[editable path="CharacterModel"]
