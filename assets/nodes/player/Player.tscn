[gd_scene load_steps=14 format=3 uid="uid://c5odykbncdss6"]

[ext_resource type="Script" uid="uid://dm6uelu48xu0" path="res://scripts/controllers/FirstPersonController.cs" id="1_wwkbw"]
[ext_resource type="Script" uid="uid://cmfhroaomrqy7" path="res://scripts/interaction_system/Interaction.cs" id="2_2fcl3"]
[ext_resource type="PackedScene" uid="uid://db8d8mfop4pge" path="res://assets/nodes/player/CharacterModel.tscn" id="2_2wjqb"]
[ext_resource type="Script" uid="uid://cqhrwhm0pjgb" path="res://scripts/controllers/state machine/StateMachine.cs" id="2_lxhpi"]
[ext_resource type="Script" uid="uid://c1d0j15e0lsn" path="res://scripts/controllers/state machine/states/IdlePlayerState.cs" id="3_qmbba"]
[ext_resource type="Script" uid="uid://c2duora0r4v7m" path="res://scripts/controllers/state machine/states/WalkingPlayerState.cs" id="4_3cvba"]
[ext_resource type="Script" uid="uid://0pv5vq7k8qvo" path="res://scripts/controllers/state machine/states/SprintingPlayerState.cs" id="5_b840n"]
[ext_resource type="Script" uid="uid://fisn7eoytnpu" path="res://scripts/controllers/state machine/states/CrouchingPlayerState.cs" id="6_sgnxj"]
[ext_resource type="Script" uid="uid://ceqom0bpx81ql" path="res://scripts/controllers/state machine/states/JumpingPlayerState.cs" id="7_ab8v3"]
[ext_resource type="Script" uid="uid://b73v6vfamenc" path="res://scripts/controllers/state machine/states/FallingPlayerState.cs" id="8_glg3x"]
[ext_resource type="Script" uid="uid://b5x2m7kjjsdt6" path="res://scripts/weapon_system/WeaponManager.cs" id="11_8vqdi"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wwkbw"]
radius = 0.4
height = 1.75

[sub_resource type="SphereShape3D" id="SphereShape3D_wwkbw"]
radius = 0.4

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CrouchShapeCast", "CollisionShape3D", "Camera", "HeadTarget", "AimNode")]
script = ExtResource("1_wwkbw")
CrouchShapeCast = NodePath("CrouchShapeCast3D")
CollisionShape3D = NodePath("CollisionShape3D")
Camera = NodePath("Head/Camera3D")
HeadTarget = NodePath("CharacterModel/HeadBoneAttachment/HeadTarget")
AimNode = NodePath("Head/Camera3D/AimTarget")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_wwkbw")

[node name="CrouchShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
shape = SubResource("SphereShape3D_wwkbw")
target_position = Vector3(0, 0.5, 0)

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8746, -0.0972898)

[node name="Camera3D" type="Camera3D" parent="Head"]
cull_mask = 1048573

[node name="InteractionRaycast" type="RayCast3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -2, 0)
collision_mask = 65535
script = ExtResource("2_2fcl3")

[node name="AimTarget" type="Node3D" parent="Head/Camera3D"]

[node name="CharacterModel" parent="." instance=ExtResource("2_2wjqb")]

[node name="AnimationTree" parent="CharacterModel" index="1"]
parameters/OneShot/active = false
parameters/OneShot/internal_active = false
parameters/OneShot/request = 0
parameters/PlayerStateMachine/Crouched/CrouchingBlendSpace2D/blend_position = Vector2(0, 0)
parameters/PlayerStateMachine/Standing/SprintBlendSpace1D/blend_position = 0

[node name="Skeleton3D" parent="CharacterModel/Armature" index="0"]
bones/0/position = Vector3(0.00335599, 0.931419, -0.00547657)
bones/0/rotation = Quaternion(-0.0393948, -0.364564, -0.014642, 0.930229)
bones/1/rotation = Quaternion(0.00545828, -0.000738442, 3.61358e-05, 0.999985)
bones/2/rotation = Quaternion(0.144843, 0.000664668, -0.00612483, 0.989435)
bones/3/rotation = Quaternion(0.200525, -0.000214525, -0.00605754, 0.97967)
bones/4/rotation = Quaternion(0.008458, 0.0652036, 0.00799985, 0.997804)
bones/5/rotation = Quaternion(-0.0331778, 0.191449, 0.0910342, 0.976708)
bones/8/rotation = Quaternion(-0.293505, -0.332654, 0.669237, -0.596086)
bones/9/rotation = Quaternion(0.4767, -0.224545, 0.312724, 0.790279)
bones/10/rotation = Quaternion(8.90432e-08, -5.39937e-08, 0.536542, 0.843874)
bones/11/rotation = Quaternion(-0.133136, -0.829288, -0.244762, 0.484404)
bones/12/rotation = Quaternion(0.226112, -0.0334416, 0.133894, 0.964275)
bones/13/rotation = Quaternion(0.0134169, 0.168692, -0.0634264, 0.983535)
bones/17/rotation = Quaternion(0.315869, -0.0127175, -0.0318698, 0.948182)
bones/22/rotation = Quaternion(0.440521, -0.0180527, -0.0445107, 0.896456)
bones/23/rotation = Quaternion(0.536165, 2.62927e-06, -0.0549274, 0.842324)
bones/27/rotation = Quaternion(0.505702, -0.0259243, -0.0425089, 0.86127)
bones/32/rotation = Quaternion(0.591496, -0.069474, 0.00187969, 0.803307)
bones/34/rotation = Quaternion(0.121865, 1.95005e-07, -0.0124884, 0.992468)
bones/37/rotation = Quaternion(0.187481, -0.387082, 0.722305, 0.541567)
bones/38/rotation = Quaternion(0.473353, -0.178583, -0.614809, 0.605025)
bones/40/rotation = Quaternion(-0.157273, 0.388011, 0.244033, 0.874735)
bones/41/rotation = Quaternion(0.34904, 0.0280989, -0.147437, 0.925011)
bones/42/rotation = Quaternion(-0.11229, -0.187371, 0.211168, 0.952728)
bones/43/rotation = Quaternion(-0.272566, -0.0182713, 0.407862, 0.871219)
bones/46/rotation = Quaternion(0.10907, 0.00641887, -0.0151832, 0.993897)
bones/51/rotation = Quaternion(0.431489, 0.000524698, 0.0693342, 0.89945)
bones/66/rotation = Quaternion(0.0790959, 0.210509, 0.968767, -0.104503)
bones/67/rotation = Quaternion(-0.309439, 0.120369, -0.0404723, 0.942402)
bones/68/rotation = Quaternion(0.578576, -0.0219061, -0.029129, 0.814814)
bones/69/rotation = Quaternion(0.247892, -0.0175262, -0.0401864, 0.967795)
bones/72/rotation = Quaternion(-0.124924, 0.0122784, 0.983572, 0.129728)
bones/73/rotation = Quaternion(-0.295412, 0.077206, -0.0176293, 0.952082)
bones/74/rotation = Quaternion(0.677136, 0.0711562, 0.0993928, 0.725634)
bones/75/rotation = Quaternion(0.242824, 0.0356718, 0.012661, 0.969331)

[node name="HipsTarget" parent="CharacterModel/Armature" index="1"]
transform = Transform3D(0.745211, 0.119363, -0.65606, -0.158158, 0.987413, 0, 0.647802, 0.103761, 0.75471, 2.37169e-20, 1.25, 0)

[node name="HeadBoneAttachment" parent="CharacterModel" index="3"]
transform = Transform3D(-0.830689, 0.531933, 0.164328, 0.419685, 0.792241, -0.442965, -0.365816, -0.299, -0.88135, 0.11345, 1.45894, -0.133221)

[node name="RightHandAttachment" parent="CharacterModel" index="4"]
transform = Transform3D(0.177944, 0.0214766, -0.983806, 0.983878, -0.0220744, 0.177475, -0.0179053, -0.999526, -0.0250582, 0.181718, 1.26506, -0.225894)

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("2_lxhpi")
CurrentState = NodePath("IdlePlayerState")

[node name="IdlePlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("3_qmbba")

[node name="WalkingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_3cvba")

[node name="SprintingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("5_b840n")

[node name="CrouchingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_sgnxj")

[node name="JumpingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_ab8v3")

[node name="FallingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("8_glg3x")

[node name="WeaponManager" type="Node" parent="." node_paths=PackedStringArray("WeaponHolderSlot", "WeaponSlots")]
script = ExtResource("11_8vqdi")
WeaponHolderSlot = NodePath("../CharacterModel/RightHandAttachment/RightHandHolder")
WeaponSlots = {}

[editable path="CharacterModel"]
