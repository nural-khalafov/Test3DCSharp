[gd_scene load_steps=14 format=3 uid="uid://c5odykbncdss6"]

[ext_resource type="Script" uid="uid://dm6uelu48xu0" path="res://scripts/controllers/FirstPersonController.cs" id="1_wwkbw"]
[ext_resource type="Script" uid="uid://cmfhroaomrqy7" path="res://scripts/interaction_system/Interaction.cs" id="2_2fcl3"]
[ext_resource type="PackedScene" uid="uid://db8d8mfop4pge" path="res://assets/nodes/player/CharacterModel.tscn" id="2_2wjqb"]
[ext_resource type="Script" uid="uid://cqhrwhm0pjgb" path="res://scripts/controllers/state machine/StateMachine.cs" id="2_lxhpi"]
[ext_resource type="Script" uid="uid://c1d0j15e0lsn" path="res://scripts/controllers/state machine/states/IdlePlayerState.cs" id="3_qmbba"]
[ext_resource type="Script" uid="uid://c2duora0r4v7m" path="res://scripts/controllers/state machine/states/WalkingPlayerState.cs" id="4_3cvba"]
[ext_resource type="Script" uid="uid://0pv5vq7k8qvo" path="res://scripts/controllers/state machine/states/SprintingPlayerState.cs" id="5_b840n"]
[ext_resource type="Script" uid="uid://fisn7eoytnpu" path="res://scripts/controllers/state machine/states/CrouchingPlayerState.cs" id="6_sgnxj"]
[ext_resource type="Script" uid="uid://ceqom0bpx81ql" path="res://scripts/controllers/state machine/states/JumpingPlayerState.cs" id="7_ab8v3"]
[ext_resource type="Script" uid="uid://b73v6vfamenc" path="res://scripts/controllers/state machine/states/FallingPlayerState.cs" id="8_glg3x"]
[ext_resource type="Script" uid="uid://b5x2m7kjjsdt6" path="res://scripts/weapon_system/WeaponManager.cs" id="11_8vqdi"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wwkbw"]
radius = 0.4
height = 1.75

[sub_resource type="SphereShape3D" id="SphereShape3D_wwkbw"]
radius = 0.4

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CrouchShapeCast", "CollisionShape3D", "Camera", "HeadTarget", "AimNode")]
script = ExtResource("1_wwkbw")
CrouchShapeCast = NodePath("CrouchShapeCast3D")
CollisionShape3D = NodePath("CollisionShape3D")
Camera = NodePath("Head/Camera3D")
HeadTarget = NodePath("CharacterModel/HeadBoneAttachment/HeadTarget")
AimNode = NodePath("Head/Camera3D/AimTarget")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.875, 0)
shape = SubResource("CapsuleShape3D_wwkbw")

[node name="CrouchShapeCast3D" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, 0)
shape = SubResource("SphereShape3D_wwkbw")
target_position = Vector3(0, 0.5, 0)

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8746, -0.0972898)

[node name="Camera3D" type="Camera3D" parent="Head"]
cull_mask = 1048573
near = 0.001

[node name="InteractionRaycast" type="RayCast3D" parent="Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, -2, 0)
collision_mask = 65535
script = ExtResource("2_2fcl3")

[node name="AimTarget" type="Node3D" parent="Head/Camera3D"]

[node name="CharacterModel" parent="." instance=ExtResource("2_2wjqb")]

[node name="AnimationTree" parent="CharacterModel" index="1"]
parameters/PlayerStateMachine/Crouched/CrouchingBlendSpace2D/blend_position = Vector2(0, 0)
parameters/PlayerStateMachine/Standing/SprintBlendSpace1D/blend_position = 0
parameters/UpperbodyStateMachine/ArmedState/ArmedStates/WeaponIdleBS1D/blend_position = 0

[node name="Skeleton3D" parent="CharacterModel/Armature" index="0"]
bones/0/position = Vector3(0.00325098, 0.932221, -0.00216524)
bones/0/rotation = Quaternion(-0.0398565, -0.365833, -0.0149937, 0.929706)
bones/1/rotation = Quaternion(-0.0144067, 0.0402416, -0.00494667, 0.999074)
bones/2/rotation = Quaternion(0.0925557, 0.0818505, -0.00658782, 0.992316)
bones/3/rotation = Quaternion(0.14919, 0.0813414, -0.0112427, 0.985393)
bones/4/rotation = Quaternion(-0.0124628, -0.0106326, 0.00155332, 0.999865)
bones/5/rotation = Quaternion(-0.061642, 0.177499, -0.00166396, 0.982187)
bones/8/rotation = Quaternion(-0.469541, -0.54376, 0.564604, -0.406299)
bones/9/rotation = Quaternion(0.53856, -0.0503273, 0.134086, 0.830326)
bones/10/rotation = Quaternion(-0.00521968, 0.0658397, 0.4202, 0.905025)
bones/11/rotation = Quaternion(-0.0993873, 0.135695, 0.0107212, 0.985695)
bones/12/rotation = Quaternion(0.303761, -0.00405379, 0.142747, 0.941985)
bones/13/rotation = Quaternion(-0.00707558, 0.000539243, 0.000444748, 0.999975)
bones/17/rotation = Quaternion(0.0479791, -0.00589803, 0.0621224, 0.996897)
bones/18/rotation = Quaternion(0.157799, -0.00109893, -0.00515802, 0.987457)
bones/22/rotation = Quaternion(0.137934, 0.00258185, -0.0688972, 0.988039)
bones/23/rotation = Quaternion(0.257517, -0.00179935, 0.021674, 0.966029)
bones/27/rotation = Quaternion(0.276901, -0.0195861, -0.114952, 0.953797)
bones/28/rotation = Quaternion(0.288243, 0.00175553, 0.0249039, 0.957232)
bones/32/rotation = Quaternion(0.303836, -0.0213828, -0.148218, 0.940882)
bones/33/rotation = Quaternion(0.349155, 0.0117479, 0.049674, 0.935674)
bones/37/rotation = Quaternion(0.519499, -0.505463, 0.534788, 0.434316)
bones/38/rotation = Quaternion(0.515785, 0.0223306, 0.0970816, 0.850907)
bones/39/rotation = Quaternion(0.0645062, -0.00278926, -0.364902, 0.928805)
bones/40/rotation = Quaternion(0.114691, -0.0460446, -0.0910073, 0.988152)
bones/41/rotation = Quaternion(0.232248, 0.14225, -0.202167, 0.94072)
bones/42/rotation = Quaternion(-0.0430019, 0.0013654, 0.176696, 0.983325)
bones/46/rotation = Quaternion(0.0371894, 0.0096605, 0.0103763, 0.999208)
bones/47/rotation = Quaternion(0.147064, 0.000233843, 0.00986271, 0.989078)
bones/51/rotation = Quaternion(0.111721, 0.00862305, 0.0246847, 0.993396)
bones/52/rotation = Quaternion(0.310629, 0.00169278, -0.0210962, 0.950296)
bones/56/rotation = Quaternion(0.211237, -0.00645375, 0.0652039, 0.975236)
bones/57/rotation = Quaternion(0.343719, -0.0025097, -0.0358573, 0.938384)
bones/62/rotation = Quaternion(0.37187, -0.013227, -0.0701622, 0.925535)
bones/66/rotation = Quaternion(0.0797075, 0.208292, 0.96926, -0.103906)
bones/67/rotation = Quaternion(-0.308623, 0.120351, -0.0401639, 0.942685)
bones/68/rotation = Quaternion(0.579004, -0.0210716, -0.0277478, 0.81458)
bones/69/rotation = Quaternion(0.247849, -0.0178021, -0.0404225, 0.967791)
bones/72/rotation = Quaternion(-0.125679, 0.00377659, 0.983733, 0.128295)
bones/73/rotation = Quaternion(-0.284555, 0.0775559, -0.0166672, 0.955372)
bones/74/rotation = Quaternion(0.675121, 0.0713958, 0.099922, 0.727413)

[node name="HipsTarget" parent="CharacterModel/Armature" index="1"]
transform = Transform3D(0.745211, 0.119363, -0.65606, -0.158158, 0.987413, 0, 0.647802, 0.103761, 0.75471, 2.37169e-20, 1.25, 0)

[node name="HeadBoneAttachment" parent="CharacterModel" index="3"]
transform = Transform3D(-0.996828, 0.079501, 0.00368228, 0.0767736, 0.972762, -0.218724, -0.0209708, -0.217748, -0.97578, 0.0149217, 1.50269, -0.107538)

[node name="RightHandAttachment" parent="CharacterModel" index="4"]
transform = Transform3D(0.19644, 0.196071, -0.960712, 0.331387, -0.935423, -0.12315, -0.922818, -0.294177, -0.24873, 0.296383, 0.891006, 0.214843)

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CurrentState")]
script = ExtResource("2_lxhpi")
CurrentState = NodePath("IdlePlayerState")

[node name="IdlePlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("3_qmbba")

[node name="WalkingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_3cvba")

[node name="SprintingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("5_b840n")

[node name="CrouchingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_sgnxj")

[node name="JumpingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_ab8v3")

[node name="FallingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("8_glg3x")

[node name="WeaponManager" type="Node" parent="." node_paths=PackedStringArray("WeaponHolderSlot", "WeaponSlots")]
script = ExtResource("11_8vqdi")
WeaponHolderSlot = NodePath("../CharacterModel/RightHandAttachment/RightHandHolder")
WeaponSlots = {}

[editable path="CharacterModel"]
